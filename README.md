# üéÆ Termo-Ghymbal

**–°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≥—ñ–º–±–∞–ª–æ–º –Ω–∞ ESP32 –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Google OAuth, –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥—ñ–Ω—É —Ç–∞ —Å—É—á–∞—Å–Ω–æ–≥–æ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.**

---

## üìã –ó–º—ñ—Å—Ç

- [–ü—Ä–æ –ø—Ä–æ—î–∫—Ç](#–ø—Ä–æ-–ø—Ä–æ—î–∫—Ç)
- [–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª](#—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ—î–∫—Ç—É)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-–∑–º—ñ–Ω–Ω–∏—Ö-—Å–µ—Ä–µ–¥–æ–≤–∏—â–∞)
- [–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞](#–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è-—Ç–∞-–±–µ–∑–ø–µ–∫–∞)
- [–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞](#–∑–∞–ø—É—Å–∫-—Å–µ—Ä–≤–µ—Ä–∞)
- [MQTT –¢–æ–ø—ñ–∫–∏](#mqtt-—Ç–æ–ø—ñ–∫–∏)
- [–ü–ª–∞–Ω–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î](#–ø–ª–∞–Ω–∏-–Ω–∞-–º–∞–π–±—É—Ç–Ω—î)
- [–õ—ñ—Ü–µ–Ω–∑—ñ—è](#–ª—ñ—Ü–µ–Ω–∑—ñ—è)

---

## üìå –ü—Ä–æ –ø—Ä–æ—î–∫—Ç

–°–∏—Å—Ç–µ–º–∞ –¥–æ–∑–≤–æ–ª—è—î:
- –í—ñ–¥–¥–∞–ª–µ–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –≥—ñ–º–±–∞–ª–æ–º —ñ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –π–æ–≥–æ —Å—Ç–∞—Ç—É—Å.
- –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –≤—ñ–¥–µ–æ –∑ ESP32-CAM (–º–∞–π–±—É—Ç–Ω—ñ–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª).
- –ó–∞—Ö–∏—â–∞—Ç–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Google OAuth –∞–±–æ –ª–æ–∫–∞–ª—å–Ω–∏–π –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å.
- –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ HTTPS —Ç–∞ —Å—É—á–∞—Å–Ω–∏–π UI.

---

## ‚ú® –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- –°—É—á–∞—Å–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`/panel`) –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≥—ñ–º–±–∞–ª–æ–º.
- –í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google-–∞–∫–∞—É–Ω—Ç **–∞–±–æ** –ª–æ–∫–∞–ª—å–Ω–∏–π –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å.
- –î–æ—Å—Ç—É–ø –¥–æ –ø–∞–Ω–µ–ª—ñ –ª–∏—à–µ –¥–ª—è –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö Google-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –ø—Ä–∏—Å—Ç—Ä–æ—é (stub/API).
- –ü—Ä–æ—Å—Ç–∏–π –ª–æ–≥—ñ–Ω/logout, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø—ñ—Å–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ MQTT-–∑ º—î–¥–Ω–∞–Ω–Ω—è –∑ ESP32 (backend stub).
- –ó–∞—Ö–∏—â–µ–Ω–µ –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è —á–µ—Ä–µ–∑ HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∑ nginx + Let‚Äôs Encrypt).

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
termo-ghymbal/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ panel.html
‚îÇ   ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îî‚îÄ‚îÄ logo.png
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ server.js
‚îÇ   ‚îî‚îÄ‚îÄ auth.js
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

---

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
   ```bash
   git clone https://github.com/yatoropov/termo-ghymbal.git
   cd termo-ghymbal
   ```

2. **–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   npm install
   ```

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`:**
   ```bash
   cp .env.example .env
   ```

2. **–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ:**
   ```
   ADMIN_LOGIN=–≤–∞—à_–ª–æ–≥—ñ–Ω
   ADMIN_PASS=–≤–∞—à_–ø–∞—Ä–æ–ª—å
   SESSION_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω–∏–π_—Ä—è–¥–æ–∫
   GOOGLE_CLIENT_ID=–æ—Ç—Ä–∏–º–∞–π—Ç–µ_–≤_Google_Cloud
   GOOGLE_CLIENT_SECRET=–æ—Ç—Ä–∏–º–∞–π—Ç–µ_–≤_Google_Cloud
   ALLOWED_USERS=–≤–∞—à_–µ–º–µ–π–ª@gmail.com,–¥—Ä—É–≥–∏–π@–ø–æ—à—Ç–∞.com
   ```

   - `GOOGLE_CLIENT_ID` —Ç–∞ `GOOGLE_CLIENT_SECRET` –æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è —É Google Cloud Console (OAuth 2.0).
   - `ALLOWED_USERS` ‚Äî –ø–µ—Ä–µ–ª—ñ–∫ –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö Google-–µ–º–µ–π–ª—ñ–≤ –¥–ª—è –≤—Ö–æ–¥—É.

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞

- **–ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –≤—Ö–æ–¥—É** –¥–æ—Å—Ç—É–ø–Ω–∏–π –≤–∏–±—ñ—Ä: Google OAuth **–∞–±–æ** –∫–ª–∞—Å–∏—á–Ω–∏–π –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å.
- **–¢—ñ–ª—å–∫–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** (–∑ ALLOWED_USERS) –æ—Ç—Ä–∏–º—É—é—Ç—å –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Google.
- **–°–µ—Å—ñ—ó –∑–∞—Ö–∏—â–µ–Ω—ñ** —á–µ—Ä–µ–∑ SESSION_SECRET.
- **HTTPS** strongly recommended: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ nginx + Certbot (Let‚Äôs Encrypt) –¥–ª—è production.
- **Logout** –Ω–∞—è–≤–Ω–∏–π –¥–ª—è –æ–±–æ—Ö —Ç–∏–ø—ñ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.

---

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm start
```
–∞–±–æ
```bash
node src/server.js
```

---

## üì° MQTT –¢–æ–ø—ñ–∫–∏ (stub/–¥–∞–ª—ñ)

- **`gimbal/cmd`** ‚Äî –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –Ω–∞ ESP32.
- **`gimbal/status`** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –≤—ñ–¥ ESP32.

---

## üìà –ü–ª–∞–Ω–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î

- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤—ñ–¥–µ–æ-–ø–æ—Ç–æ–∫—É ESP32-CAM —É –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- Live-—Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ WebSocket/MQTT.
- –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø–∞–Ω–µ–ª—ñ –∫–µ—Ä—É–≤–∞–Ω–Ω—è, –∫–∞—Å—Ç–æ–º–Ω—ñ —Ä–æ–ª—ñ, –∂—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π.

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–ü—Ä–æ—î–∫—Ç –ø–æ—à–∏—Ä—é—î—Ç—å—Å—è –ø—ñ–¥ [MIT License](LICENSE).

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

- [yatoropov](https://github.com/yatoropov)
- –Ø–∫—â–æ —É –≤–∞—Å —î —ñ–¥–µ—ó —á–∏ –ø–∏—Ç–∞–Ω–Ω—è ‚Äî –≤—ñ–¥–∫—Ä–∏–≤–∞–π—Ç–µ issue –∞–±–æ –ø–∏—à—ñ—Ç—å –∞–≤—Ç–æ—Ä—É.

---
